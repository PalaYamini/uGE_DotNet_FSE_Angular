<!DOCTYPE html>
<html>
<head>
    <title>Location Logger</title>
</head>
<body onload="loadLocations()">
<h2>Location Logger</h2>
<button onclick="getLocation()">Get My Location</button>

<p id="output"></p>

<h3>Location History</h3>
<ul id="history"></ul>

<script>
function getLocation() {
    navigator.geolocation.getCurrentPosition(success, error);
}

function success(position) {
    var lat = position.coords.latitude;
    var lon = position.coords.longitude;

    document.getElementById("output").innerHTML =
        "Latitude: " + lat + "<br>Longitude: " + lon;

    var locations = JSON.parse(localStorage.getItem("locations")) || [];
    locations.unshift({lat, lon, time: new Date().toLocaleString()});k
    locations = locations.slice(0,5);
    localStorage.setItem("locations", JSON.stringify(locations));
    loadLocations();
}

function error(err) {
    document.getElementById("output").innerHTML =
        "Error: " + err.message;
}

function loadLocations() {
    var locations = JSON.parse(localStorage.getItem("locations")) || [];
    var list = document.getElementById("history");
    list.innerHTML = "";
    locations.forEach((loc) => {
        var li = document.createElement("li");
        li.innerHTML = loc.lat + ", " + loc.lon + " - " + loc.time;
        list.appendChild(li);
    });
}
</script>

</body>
</html>